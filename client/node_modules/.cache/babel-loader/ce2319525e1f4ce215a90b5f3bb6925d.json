{"ast":null,"code":"import axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\nimport jwtDecode from 'jwt-decode';\nimport { SET_CURRENT_USER } from './types';\nexport const loginUser = userData => dispatch => {\n  console.log(userData);\n  axios.post('/api/auth/login', userData).then(res => {\n    // save token to localStorage\n    const token = res.data.token;\n    localStorage.setItem('squad', token); // set token to auth header\n\n    setAuthToken(token); // decode token to get user data\n\n    const decoded = jwtDecode(token); // set current user\n\n    dispatch(setCurrentUser(decoded));\n  });\n}; // set user\n\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n}; // logout user\n\nexport const logoutUser = () => dispatch => {\n  // remove token from localStorage\n  localStorage.removeItem('squad'); // remove auth header\n\n  setAuthToken(false); // set current user to {}\n\n  dispatch(setCurrentUser({}));\n};","map":{"version":3,"sources":["/Users/alecdown/apps/squad/client/src/actions/authActions.js"],"names":["axios","setAuthToken","jwtDecode","SET_CURRENT_USER","loginUser","userData","dispatch","console","log","post","then","res","token","data","localStorage","setItem","decoded","setCurrentUser","type","payload","logoutUser","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,gBAAT,QAAiC,SAAjC;AAEA,OAAO,MAAMC,SAAS,GAAGC,QAAQ,IAAIC,QAAQ,IAAI;AAC/CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEAL,EAAAA,KAAK,CAACS,IAAN,CAAW,iBAAX,EAA8BJ,QAA9B,EAAwCK,IAAxC,CAA6CC,GAAG,IAAI;AAClD;AADkD,UAE1CC,KAF0C,GAEhCD,GAAG,CAACE,IAF4B,CAE1CD,KAF0C;AAGlDE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B,EAHkD,CAKlD;;AACAX,IAAAA,YAAY,CAACW,KAAD,CAAZ,CANkD,CAQlD;;AACA,UAAMI,OAAO,GAAGd,SAAS,CAACU,KAAD,CAAzB,CATkD,CAWlD;;AACAN,IAAAA,QAAQ,CAACW,cAAc,CAACD,OAAD,CAAf,CAAR;AACD,GAbD;AAcD,CAjBM,C,CAmBP;;AACA,OAAO,MAAMC,cAAc,GAAGD,OAAO,IAAI;AACvC,SAAO;AACLE,IAAAA,IAAI,EAAEf,gBADD;AAELgB,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMI,UAAU,GAAG,MAAMd,QAAQ,IAAI;AAC1C;AACAQ,EAAAA,YAAY,CAACO,UAAb,CAAwB,OAAxB,EAF0C,CAI1C;;AACApB,EAAAA,YAAY,CAAC,KAAD,CAAZ,CAL0C,CAO1C;;AACAK,EAAAA,QAAQ,CAACW,cAAc,CAAC,EAAD,CAAf,CAAR;AACD,CATM","sourcesContent":["import axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\nimport jwtDecode from 'jwt-decode';\n\nimport { SET_CURRENT_USER } from './types';\n\nexport const loginUser = userData => dispatch => {\n  console.log(userData);\n\n  axios.post('/api/auth/login', userData).then(res => {\n    // save token to localStorage\n    const { token } = res.data;\n    localStorage.setItem('squad', token);\n\n    // set token to auth header\n    setAuthToken(token);\n\n    // decode token to get user data\n    const decoded = jwtDecode(token);\n\n    // set current user\n    dispatch(setCurrentUser(decoded));\n  });\n};\n\n// set user\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n\n// logout user\nexport const logoutUser = () => dispatch => {\n  // remove token from localStorage\n  localStorage.removeItem('squad');\n\n  // remove auth header\n  setAuthToken(false);\n\n  // set current user to {}\n  dispatch(setCurrentUser({}));\n};\n"]},"metadata":{},"sourceType":"module"}