{"ast":null,"code":"import _slicedToArray from \"/Users/adown/apps/squad/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adown/apps/squad/client/src/pages/Squad.js\";\nimport React, { useState } from 'react';\nimport { Typography, Divider, Button, Grid, TextField, Paper, List, ListItem, ListItemAvatar, Avatar, ListItemText } from '@material-ui/core/';\nimport Box from '../components/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { joinSquad, createNewSquad, updateSquad } from '../actions/squadActions';\nimport { formatPhoneNumber } from '../utils/phoneNumberFormat';\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    margin: theme.spacing(2),\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start'\n  },\n  squadInfo: {\n    color: theme.palette.primary.main,\n    fontSize: '0.8rem'\n  },\n  profileCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  image: {\n    borderRadius: '50%',\n    height: 80,\n    width: 80,\n    filter: 'grayscale(100%)'\n  },\n  name: {\n    color: theme.palette.primary.main\n  },\n  edit: {\n    color: 'rgba(0,0,0,0.6)',\n    fontSize: '0.5rem',\n    marginLeft: 10,\n    '&:hover': {\n      textDecoration: 'underline',\n      cursor: 'pointer'\n    }\n  }\n}));\nexport default function Squad() {\n  const squad = useSelector(state => state.squad);\n  const errors = useSelector(state => state.errors);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        editable = _useState2[0],\n        setEditable = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        squadInvitationCode = _useState4[0],\n        setSquadInvitationCode = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        newSquadName = _useState6[0],\n        setNewSquadName = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        squadName = _useState8[0],\n        setSquadName = _useState8[1];\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const handleCreateSquad = () => {\n    dispatch(createNewSquad(newSquadName));\n  };\n\n  const handleJoinSquad = () => {\n    dispatch(joinSquad(squadInvitationCode));\n  };\n\n  const handleUpdateSquad = () => {\n    dispatch(updateSquad({\n      squadName,\n      squadId: squad.id\n    }));\n    setEditable(false);\n  };\n\n  let squadContent;\n\n  if (Object.keys(squad).length > 0) {\n    squadContent = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Box, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Squad Name:\", ' ', editable ? React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: squad.squadName,\n      value: squadName,\n      onChange: e => setSquadName(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: classes.edit,\n      onClick: () => setEditable(!editable),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(\"span\", {\n      className: classes.edit,\n      onClick: handleUpdateSquad,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Save\")) : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: classes.squadInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, squad.squadName), React.createElement(\"span\", {\n      className: classes.edit,\n      onClick: () => setEditable(!editable),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Edit\"))), React.createElement(Typography, {\n      variant: \"subtitle2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Squad Size: \", React.createElement(\"span\", {\n      className: classes.squadInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, squad.squadProfiles.length)), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      variant: \"subtitle2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Alert, {\n      severity: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Only share your invite code with people you trust.\"), React.createElement(Typography, {\n      variant: \"subtitle2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Invite code: \", React.createElement(\"span\", {\n      className: classes.squadInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, squad.id))), React.createElement(Typography, {\n      variant: \"h6\",\n      style: {\n        marginTop: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Members:\"));\n  } else {\n    squadContent = React.createElement(Grid, {\n      container: true,\n      component: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Alert, {\n      style: {\n        width: '100%'\n      },\n      severity: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"You are not currently part of a squad.\"), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      component: Paper,\n      elevation: 0,\n      square: true,\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \" You can create your own squad:\"), React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: errors.squad && true,\n      helperText: errors.squad,\n      fullWidth: true,\n      variant: \"outlined\",\n      margin: \"normal\",\n      id: \"new-squad\",\n      label: \"New Squad Name\",\n      name: \"new-squad\",\n      autoComplete: \"new-squad\",\n      value: squad.newSquadName,\n      onChange: e => setNewSquadName(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: handleCreateSquad,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Create Squad\"))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      component: Paper,\n      elevation: 0,\n      square: true,\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \" Or join an existing squad:\"), React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      error: errors.squad && true,\n      helperText: errors.squad,\n      fullWidth: true,\n      variant: \"outlined\",\n      margin: \"normal\",\n      id: \"squad\",\n      label: \"Invitation Code\",\n      name: \"squad\",\n      autoComplete: \"squad\",\n      value: squad.squadInvitationCode,\n      onChange: e => setSquadInvitationCode(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: handleJoinSquad,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Join Squad\"))));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"Squad\"), React.createElement(Divider, {\n    style: {\n      marginBottom: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, squadContent)), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, squad.squadProfiles.map((member, idx) => React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    lg: 3,\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(Box, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.profileCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: classes.image,\n    alt: member.firstName,\n    src: member.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    className: classes.name,\n    variant: \"overline\",\n    display: \"block\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, member.firstName, \" \", member.lastName), React.createElement(Typography, {\n    variant: \"caption\",\n    display: \"block\",\n    gutterBottom: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, member.handle, ' '), React.createElement(Typography, {\n    variant: \"overline\",\n    display: \"block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, member.email, ' '), React.createElement(Typography, {\n    variant: \"overline\",\n    display: \"block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, member.phone.length > 0 ? formatPhoneNumber(member.phone) : 'No phone'), React.createElement(Typography, {\n    variant: \"overline\",\n    display: \"block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, member.city, \", \", member.state)))))));\n}","map":{"version":3,"sources":["/Users/adown/apps/squad/client/src/pages/Squad.js"],"names":["React","useState","Typography","Divider","Button","Grid","TextField","Paper","List","ListItem","ListItemAvatar","Avatar","ListItemText","Box","makeStyles","Alert","useSelector","useDispatch","joinSquad","createNewSquad","updateSquad","formatPhoneNumber","useStyles","theme","paper","margin","spacing","padding","display","flexDirection","alignItems","squadInfo","color","palette","primary","main","fontSize","profileCard","justifyContent","textAlign","image","borderRadius","height","width","filter","name","edit","marginLeft","textDecoration","cursor","Squad","squad","state","errors","editable","setEditable","squadInvitationCode","setSquadInvitationCode","newSquadName","setNewSquadName","squadName","setSquadName","classes","dispatch","handleCreateSquad","handleJoinSquad","handleUpdateSquad","squadId","id","squadContent","Object","keys","length","e","target","value","squadProfiles","marginTop","form","marginBottom","map","member","idx","firstName","avatar","lastName","handle","email","phone","city"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Typography,\n  Divider,\n  Button,\n  Grid,\n  TextField,\n  Paper,\n  List,\n  ListItem,\n  ListItemAvatar,\n  Avatar,\n  ListItemText\n} from '@material-ui/core/';\nimport Box from '../components/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { joinSquad, createNewSquad, updateSquad } from '../actions/squadActions';\nimport { formatPhoneNumber } from '../utils/phoneNumberFormat';\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    margin: theme.spacing(2),\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start'\n  },\n  squadInfo: {\n    color: theme.palette.primary.main,\n    fontSize: '0.8rem'\n  },\n  profileCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  image: {\n    borderRadius: '50%',\n    height: 80,\n    width: 80,\n    filter: 'grayscale(100%)'\n  },\n  name: {\n    color: theme.palette.primary.main\n  },\n  edit: {\n    color: 'rgba(0,0,0,0.6)',\n    fontSize: '0.5rem',\n    marginLeft: 10,\n    '&:hover': {\n      textDecoration: 'underline',\n      cursor: 'pointer'\n    }\n  }\n}));\n\nexport default function Squad() {\n  const squad = useSelector(state => state.squad);\n  const errors = useSelector(state => state.errors);\n\n  const [editable, setEditable] = useState(false);\n  const [squadInvitationCode, setSquadInvitationCode] = useState('');\n  const [newSquadName, setNewSquadName] = useState('');\n  const [squadName, setSquadName] = useState('');\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const handleCreateSquad = () => {\n    dispatch(createNewSquad(newSquadName));\n  };\n\n  const handleJoinSquad = () => {\n    dispatch(joinSquad(squadInvitationCode));\n  };\n\n  const handleUpdateSquad = () => {\n    dispatch(updateSquad({ squadName, squadId: squad.id }));\n    setEditable(false);\n  };\n\n  let squadContent;\n\n  if (Object.keys(squad).length > 0) {\n    squadContent = (\n      <div>\n        <Box>\n          <Typography variant=\"subtitle2\">\n            Squad Name:{' '}\n            {editable ? (\n              <span>\n                <input\n                  placeholder={squad.squadName}\n                  value={squadName}\n                  onChange={e => setSquadName(e.target.value)}\n                />\n                <span className={classes.edit} onClick={() => setEditable(!editable)}>\n                  Cancel\n                </span>\n                <span className={classes.edit} onClick={handleUpdateSquad}>\n                  Save\n                </span>\n              </span>\n            ) : (\n              <span>\n                <span className={classes.squadInfo}>{squad.squadName}</span>\n                <span className={classes.edit} onClick={() => setEditable(!editable)}>\n                  Edit\n                </span>\n              </span>\n            )}\n          </Typography>\n          <Typography variant=\"subtitle2\">\n            Squad Size: <span className={classes.squadInfo}>{squad.squadProfiles.length}</span>\n          </Typography>\n\n          <Divider />\n          <Typography variant=\"subtitle2\"></Typography>\n          <Alert severity=\"warning\">Only share your invite code with people you trust.</Alert>\n          <Typography variant=\"subtitle2\">\n            Invite code: <span className={classes.squadInfo}>{squad.id}</span>\n          </Typography>\n        </Box>\n        <Typography variant=\"h6\" style={{ marginTop: 20 }}>\n          Members:\n        </Typography>\n      </div>\n    );\n  } else {\n    squadContent = (\n      <Grid container component=\"main\">\n        <Alert style={{ width: '100%' }} severity=\"error\">\n          You are not currently part of a squad.\n        </Alert>\n\n        <Grid item xs={12} component={Paper} elevation={0} square className={classes.paper}>\n          <Typography variant=\"subtitle1\"> You can create your own squad:</Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              error={errors.squad && true}\n              helperText={errors.squad}\n              fullWidth\n              variant=\"outlined\"\n              margin=\"normal\"\n              id=\"new-squad\"\n              label=\"New Squad Name\"\n              name=\"new-squad\"\n              autoComplete=\"new-squad\"\n              value={squad.newSquadName}\n              onChange={e => setNewSquadName(e.target.value)}\n            />\n            <Button onClick={handleCreateSquad}>Create Squad</Button>\n          </form>\n        </Grid>\n        <Grid item xs={12} component={Paper} elevation={0} square className={classes.paper}>\n          <Typography variant=\"subtitle1\"> Or join an existing squad:</Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              error={errors.squad && true}\n              helperText={errors.squad}\n              fullWidth\n              variant=\"outlined\"\n              margin=\"normal\"\n              id=\"squad\"\n              label=\"Invitation Code\"\n              name=\"squad\"\n              autoComplete=\"squad\"\n              value={squad.squadInvitationCode}\n              onChange={e => setSquadInvitationCode(e.target.value)}\n            />\n            <Button onClick={handleJoinSquad}>Join Squad</Button>\n          </form>\n        </Grid>\n      </Grid>\n    );\n  }\n\n  return (\n    <div>\n      <Typography variant=\"h4\">Squad</Typography>\n      <Divider style={{ marginBottom: 20 }} />\n\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          {squadContent}\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={2}>\n        {squad.squadProfiles.map((member, idx) => (\n          <Grid item xs={12} md={4} lg={3} key={idx}>\n            <Box>\n              <div className={classes.profileCard}>\n                <img className={classes.image} alt={member.firstName} src={member.avatar} />\n                <Typography\n                  className={classes.name}\n                  variant=\"overline\"\n                  display=\"block\"\n                  gutterBottom\n                >\n                  {member.firstName} {member.lastName}\n                </Typography>\n                <Typography variant=\"caption\" display=\"block\" gutterBottom>\n                  {member.handle}{' '}\n                </Typography>\n                <Typography variant=\"overline\" display=\"block\">\n                  {member.email}{' '}\n                </Typography>\n                <Typography variant=\"overline\" display=\"block\">\n                  {member.phone.length > 0 ? formatPhoneNumber(member.phone) : 'No phone'}\n                </Typography>\n                <Typography variant=\"overline\" display=\"block\">\n                  {member.city}, {member.state}\n                </Typography>\n              </div>\n            </Box>\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}